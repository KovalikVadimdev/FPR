20221101183237            #учу/ФП
___ 
- "Функцiональне програмування" - "Функциональное программирование" (ФП)  
- [[ФП - Лаб-4]]
- [[ФП - UA - Лаб-4]]
___ 
## Недописанная программа на Python
___ 

```Python
# coding: cp1251
## Функциональное программирование
## К лаб. работе № 4
## Движок СП
## ============================================================
## В лаб работе нужно переписать эту программу заново,
## максимально  используя средства и приёмы ФП
## ====================  Main program  ========================
import random
import math
from copy import copy
file  = open("protocol-20151209.txt", "a")  ## протокол
print >> file, "==== Протокол ===="
## задание структуры СП
np = 3  ## число мест
nt = 2  ## число переходов
P = [1, 0, 0]  ## вектор мест
T = [0, 0]    ## вектор переходов
P2T = [[1, 0, 0], [0, 1, 0]]     ## матрица связи  места-переходы
T2P = [[0, 1, 0], [1, 0, 1]]     ## матрица связи  переходы-места
## print >> file, "P = ", P
## print >> file, "T = ", T
## print >> file, "P2T = ", P2T 
## print >> file, "T2P = ", T2P
## работа СП
flag1 = 0 ## флаг возможности зарядки перехода
flag2 = 0 ## флаг невозможности зарядки перехода
print >> file, "==== зарядка переходов ===="
for i in range(nt):    ## перебираем переходы
  for j in range(np):  ## перебираем места
    ## print >> file, i, j , P2T[i][j], P[j]
    if(P2T[i][j] > 0):
      if(P[j] > 0): 
    flag1 = 1
      elif(P[j] == 0): 
    flag2 = 1
    print >> file, i, j , P2T[i][j], P[j], flag1, flag2, T[i] 
  if(flag1 == 1):
    if(flag2 == 0):
  for j in range(np):  ## перебираем места
    if (P2T[i][j] > 0): P[j] -= 1
  T[i] = 1
  print >> file, i, j , P2T[i][j], P[j], flag1, flag2, T[i]      
flag1 = 0; flag2 = 0
print >> file, "==== конец зарядки переходов ===="
""" 
==== Протокол ====
==== зарядка переходов ====
0 0 1 1 1 0 0
0 1 0 0 1 0 0
0 2 0 0 1 0 0
0 2 0 0 1 0 1
1 0 0 0 1 0 0
1 1 1 0 1 1 0
1 2 0 0 1 1 0
1 2 0 0 1 1 0
==== конец зарядки переходов ====
===== The END =====
ДАЛЬШЕ ...
print >> file, "==== разрядка переходов ===="
for i in range(t-1):
  for j in range(p-1):
    ## ...
  print >> file                           
print >> file, "==== конец разрядки переходов ===="
"""
print >> file, "===== The END ====="
file.close()
print "        Protocol is generated"
z=0
while z != "":
  print "======================================="
  z = input("     Press ENTER for exit ... ")
## ====================  End of program  =========================
```
___ 

